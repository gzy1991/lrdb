<html>
	<head>
	<style>
		body {
		    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
		    font-size: 14px;
		    line-height: 1.42857143;
		    color: #333;
		    background-color: #fff;
	    }
	    h1{
	    	text-align: center;
	    }
	    h2{
	    	border-bottom: 1px solid #ccc;
	    	font-size:28px;
	    	
	    }
	    .main{
	    	width: 960px;
    		margin: 0 auto;
	    }
	</style>
	</head>
	<body>
		<div class="main">
		
		
		
		
		
<h1 id="-">版本说明  </h1>
<h2 id="0-9-5">0.9.5</h2>
<p>Released：2015.10.28</p>
<p><strong>Important:</strong></p>
<ul>
<li>字典管理追加新的service，并在后台提供统一的静态API，以便业务使用，对应的字典表增加了新字段。</li>
<li>侧边栏相关:<ul>
<li>新添sid、body、urlCache、size属性</li>
<li>删除close、allowClick属性</li>
<li>新添setBody、open、destroy方法</li>
</ul>
</li>
</ul>
<p><strong>New Features:</strong></p>
<ul>
<li>Grid组件新增getCurPageData方法，新增onBeforeRenderRow、onAfterRenderRow、onAfterRenderTableBody事件，详细使用见API文档</li>
<li>tool.js中新增uuid方法，获取32位uuid</li>
<li>新增配置工作时间模块，并提供工具类获取两个时间点之间的工作时间</li>
<li>新增登录日志模块（当前登录用户的登录日志历史信息、所有用户的登录成功日志信息、所有用户的登录失败日志信息）</li>
<li>新增单附件与多附件上传控件，后端自带断点续传，开发人员只需关心附件的ID即可（之前沈峤做的附件上传只支持后端断点上传文件，前端部分无法使用）</li>
</ul>
<p><strong>Fixed Issues:</strong></p>
<ul>
<li>修正了侧边栏通过远程url加载时双向绑定bug</li>
<li>修正了grid组件数据为0条且不带分页栏时，appendRow不生效问题</li>
<li>修正了组织机构部门树只能显示第一层级，无法显示子部门问题</li>
<li>解决SQLServer中open为关键字部门树无法显示的问题</li>
<li>解决了侧边栏组件内容中包含tab页时，tab页签切换不生效bug</li>
</ul>
<p><strong>Other Changes:</strong>  </p>
<ul>
<li>sword-web升级到1.0.4</li>
</ul>
<h2 id="0-9-4">0.9.4</h2>
<p>Released：2015.9.22</p>
<p><strong>Important:</strong></p>
<ul>
<li>Sword-log.xml修改，以前的配置，生成的文件大小超过10M也会继续增长，不能自动生成新的文件（内容可从war中复制）
<img src="f:\JetBrains\workspace\Util.wiki\imgs\0.9.4.log.jpg" alt="LOG"></li>
<li>废弃cs-dialog、cs-single-upload、cs-file-upload指令</li>
<li>Gird通过URL动态取数据时，往后端传的的参数pageNumber改为curPage(使用Page.java不影响)</li>
<li>废除Grid组件的realSort属性（通过URL获取数据时自动后端排序，静态数据时自动对静态数据排序，对原有代码不影响）</li>
<li>废除Grid组件的setData(用reload方法替代)、setConfig、extend方法</li>
<li>废弃Grid组件的formData属性，换由queryParam代替</li>
</ul>
<p><strong>New Features:</strong></p>
<ul>
<li>Dialog组件支持URL模板的双向绑定，在Config参数中新增$compile、$scope参数</li>
<li>新增sword/formContainer供新打开页面使用，例如sword/formContainer#doc/uuid</li>
<li>首页的ng-router替换为ui-router</li>
<li>增加SwordOrgUtils.getRoleAPI().getRoleMembersByUuid方法，提供缓存功能</li>
<li>grid增加了appendRow、deleteRow、updateRow、getChanges,reload方法，Grid config新增queryParam属性用于表格查询</li>
<li>新增SwordDateUtils、SwordStringUtils后端工具类</li>
</ul>
<p><strong>Fixed Issues:</strong></p>
<ul>
<li>修改了Scheduler组件所需的数据表，以及监控采集设置中的采集和告警所需数据表</li>
<li>修复了QC中新提出的问题</li>
</ul>
<p><strong>Other Changes:</strong>  </p>
<ul>
<li>字典管理前端UI调整</li>
<li>grid组件把所有私有方法封装了起来，另外所有下划线开头的属性和方法都不建议使用</li>
<li>modules中引入ckeditor 4.5.3版本，可以使用PDModuleDir/ckeditor/ckeditor引入</li>
</ul>
<p><strong>0.9.3 upgrade to 0.9.4:</strong></p>
<ol>
<li>删除pom文件中的sword-framework依赖，新增sord-web 1.0.3版本的依赖</li>
<li>先执行maven clean、project clean并Refresh项目，然后执行maven package【勾上Skip texts】命令</li>
<li>删除项目中的临时升级文件</li>
<li>用target目录war下的sword-log.xml,sword.xml替换掉项目中的此文件</li>
<li>运行0.9.4.sql中的脚本文件</li>
<li>项目中对于Gird组件如果没有使用Page.java，需要要将返回给Grid的数据中的key【pageNumber】修改为【curPage】</li>
<li>如果使用到Grid组件的setData方法需要改用reload方法代替【reload的参数为Gird的config对象，其中id、placeAt等核心字段不生效】</li>
<li>由于字典管理前端UI调整，需修改服务项字典的dict_type字段的值为simple【不修改不会对菜单处选择依赖服务造成影响，但会造成在字典管理中无法维护服务项】</li>
</ol>
<h2 id="0-9-3">0.9.3</h2>
<p>Released：2015/8/31</p>
<p><strong>Important:</strong></p>
<ul>
<li>废弃UserUtil类，UserUtil.getCurrentUserId()变更为SwordOrgUtils.getUserAPI().getCurrentUserUuid()</li>
<li>SwordCacheUtils.get(Object key)变更为 SwordCacheUtils.get(Object key,Class<t> clazz)</t></li>
<li>SwordCacheUtils.get(String poolName, Object key)变更为SwordCacheUtils.get(String poolName, Object key,Class<t> clazz)</t></li>
</ul>
<p><strong>New Features:</strong></p>
<ul>
<li>新增快捷菜单功能</li>
<li>新增组织机构相关API，可通过SwordOrgUtils调用</li>
<li>新增系统监控中监控采集设置和告警日志监控，需要在sword.xml中增加Scheduler组件以及相关数据表</li>
</ul>
<p><strong>Fixed Issues:</strong></p>
<ul>
<li>修复QC 299号之前问题</li>
<li>解决达梦等国产数据库SQL兼容问题(comment列名称为关键字问题、别名不能加引号问题)</li>
</ul>
<p><strong>Other Changes:</strong>  </p>
<ul>
<li>swordframework升级到1.1.15</li>
</ul>
<h2 id="0-9-2">0.9.2</h2>
<p>Released：2015/8/10</p>
<p><strong>New Features:</strong></p>
<ul>
<li>新增换肤功能</li>
<li>菜单动态注入服务项</li>
<li>表格新增onSelectAll事件</li>
</ul>
<p><strong>Fixed Issues:</strong></p>
<ul>
<li>修复QC 260号之前问题</li>
</ul>
<p><strong>Other Changes:</strong>  </p>
<ul>
<li>swordframework升级到1.1.14</li>
<li>部门表中去除管理人员名称和管理人员编号字段，去除部门领导与部门领导编号字段，增加部门领导UUID字段，执行0.9.2.sql文件即可</li>
<li>字典管理中追加一列使用状态，替换创建人、修改人名称的显示内容。</li>
<li>去掉部门冻结功能，相应的去掉了高级中的冻结人员列表，在部门树上增加删除部门按钮</li>
</ul>
<h2 id="0-9-1">0.9.1</h2>
<ul>
<li>1.swordframework升级到1.1.12  </li>
<li>2.QC 225号之前问题处理</li>
<li>3.组织机构增加人员删除与部门删除功能</li>
<li>4.权限管理改名为资源管理;资源管理添加查找搜索功能。</li>
<li>5.资源权限过滤器和CSRF过滤器处理逻辑改为模糊匹配资源URL的方式</li>
<li>6.ztree添加右键菜单功能</li>
<li>API修改记录(带@符号的变更可能会与旧版本不兼容)
grid
1@.config -&gt; layout &gt; format函数 直接接受当前行数据对象,去掉row属性
inputSelect
1.config -&gt; key -&gt; data 改为 children, 原参数仍可使用
2.config -&gt; initData 不推荐使用, 改为使用对象函数dataInit(idArray)
3@.config -&gt; onSelect 函数已废除, 统一改为使用callback
4.config -&gt; selectNode 已废除, 组件本身具有选中目录节点功能, 无需额外设置
typeahead
1@.config -&gt; filter 参数已废除, 组件内部根据数据源类型判断是否启用文本过滤
2@.config -&gt; dataFormat 参数属性变更
a) field 更改为 name, 表示标题名
b) key 更改为 field, 表示字段名</li>
</ul>
<h2 id="0-9-0">0.9.0</h2>
<ul>
<li>1.swordframework升级到1.1.11                                        UPDATE</li>
<li>2.首页改版，界面风格统一                                            UPDATE  </li>
<li>3.QC 150号之前问题处理</li>
<li>4.升级fileupload到v0.10.0，改变调用方式，并修改sample中代码  </li>
<li>5.组织机构-人员表增加"直属领导"字段，增加组织日志表                NEW  </li>
<li>6.扩展ztree，增加toolbar、scroll配置段，具体参见ztree的example页面        NEW  </li>
<li>7.侧边栏组件升级，增加afterLoad事件回调、afterClose事件回调、内部增加destroy方法  </li>
<li>8.Dialog组件升级，增加url属性支持加载远程dom模板、afterLoad事件回调、afterClose事件回调、defaultClose属性（是否默认显示“关闭”按钮）  </li>
<li>9.组织机构增加org_log表，org_user表中增加direct_leader字段  </li>
<li>10.新加welcome页面  </li>
<li>11.功能资源表添加red_order字段  </li>
</ul>
<h2 id="0-8-3">0.8.3</h2>
<p>1.修改$.ajax全局事件，延迟显示加载进度<br>2.侧边栏组件优化<br>4.组织机构的所有导入增加编号重复验证                                NEW<br>5.组织机构增加导入的日子查看模块                                    NEW<br>6.修改$.ajax全局事件，延迟显示加载进度<br>7.侧边栏组件优化  </p>
<h2 id="0-8-2">0.8.2</h2>
<p>1.首页退出功能                                                      NEW<br>2.swordframework升级到1.1.10                                        UPDATE
3.组织机构中所有表格的排序由当页排序调整为所有                        NEW<br>4.2015-6-8之前QC问题处理                                            BUG
5.登录页面样式更新                                                BUG
6.页面定制功能开发，目前只包含系统名称一项                            NEW
7.ServiceResult的更新                                            UPDATE
8.权限管理，服务扫描支持选择权限目录                                UPDATE
9.更改基础框架引入方式，在发布版本中去除基础框架的强依赖。            UPDATE
10.修改字典管理后台查询逻辑                                        UPDATE</p>
<h2 id="0-8-1">0.8.1</h2>
<p>1.路由配置放入菜单中<br>2.ztree样式修改<br>3.前端组件API统一<br>4.sword-framework由1.1.8升级到1.1.9<br>5.权限配置部分提供选择后端service  </p>	
		
		
		
			
			
		</div>
	</body>
</html>